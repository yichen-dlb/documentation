"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([["30792"],{68768:function(e,n,i){i.r(n),i.d(n,{default:()=>h,frontMatter:()=>o,metadata:()=>t,assets:()=>d,toc:()=>l,contentTitle:()=>a});var t=JSON.parse('{"id":"getting-started/web","title":"Getting started with OptiView Ads on Web","description":"This guide will get you started with OptiView Ads in your THEOplayer Web SDK: configure the license, update dependencies and set the source description.","source":"@site/ads/getting-started/web.mdx","sourceDirName":"getting-started","slug":"/getting-started/web","permalink":"/documentation/pr-preview/pr-311/ads/getting-started/web","draft":false,"unlisted":false,"editUrl":"https://github.com/THEOplayer/documentation/blob/-/ads/getting-started/web.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Web","sidebar_custom_props":{"icon":"web"}},"sidebar":"ads","previous":{"title":"Signaling service","permalink":"/documentation/pr-preview/pr-311/ads/getting-started/signaling-service"},"next":{"title":"Android","permalink":"/documentation/pr-preview/pr-311/ads/getting-started/android"}}'),r=i("85893"),s=i("50065");let o={sidebar_position:2,sidebar_label:"Web",sidebar_custom_props:{icon:"web"}},a="Getting started with OptiView Ads on Web",d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Integration",id:"integration",level:2},{value:"Google DAI library",id:"google-dai-library",level:3},{value:"Player configuration",id:"player-configuration",level:3},{value:"Integrating with Open Video UI",id:"integrating-with-open-video-ui",level:2},{value:"More information",id:"more-information",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"getting-started-with-optiview-ads-on-web",children:"Getting started with OptiView Ads on Web"})}),"\n",(0,r.jsx)(n.p,{children:"This guide will get you started with OptiView Ads in your THEOplayer Web SDK: configure the license, update dependencies and set the source description."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You need to have a THEOplayer license which is compatible with OptiView Ads. This can be done through the ",(0,r.jsx)(n.a,{href:"https://portal.theoplayer.com",children:"player portal"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You need a working ",(0,r.jsx)(n.a,{href:"/documentation/pr-preview/pr-311/ads/getting-started/signaling-service",children:"OptiView Ads signaling service"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Your THEOplayer SDK needs to have the ",(0,r.jsx)(n.code,{children:"theoads"})," feature enabled."]}),"\n",(0,r.jsxs)(n.p,{children:["As of THEOplayer version 8.2.0, this feature is enabled in the main ",(0,r.jsx)(n.code,{children:"theoplayer"})," package.\nYou can install this package with the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install theoplayer\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,r.jsxs)(n.p,{children:["This guide assumes you know how to set up THEOplayer. For more information regarding this check out the ",(0,r.jsx)(n.a,{href:"/theoplayer/getting-started/sdks/web/getting-started/",children:"THEOplayer getting started"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"google-dai-library",children:"Google DAI library"}),"\n",(0,r.jsx)(n.p,{children:"Since OptiView Ads integrates with Google DAI Pod Serving, it is required to load the Google DAI script on your page:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<script src="https://imasdk.googleapis.com/js/sdkloader/ima3_dai.js"><\/script>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"player-configuration",children:"Player configuration"}),"\n",(0,r.jsx)(n.p,{children:"To make use of the OptiView Ads integration, first enable the feature in your player configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const player = new THEOplayer.Player(element, {\n  libraryLocation: 'YOUR-LIBRARY-LOCATION',\n  license: 'YOUR-LICENSE-WITH-OPTIVIEW-ADS',\n  ads: {\n    theoads: true,\n  },\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then, specify a source with a OptiView Ads-enabled ad description:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"player.source = {\n  sources: {\n    src: 'PATH-TO-SIGNALING-SERVER/hls/MANIFEST-URI',\n    type: 'application/x-mpegurl',\n    hlsDateRange: true,\n  },\n  ads: [\n    {\n      integration: 'theoads',\n      networkCode: 'NETWORK-CODE',\n      customAssetKey: 'CUSTOM-ASSET-KEY',\n      backdropDoubleBox: 'PATH-TO-DOUBLE-BOX-BACKDROP-IMAGE', // Optional\n      backdropLShape: 'PATH-TO-L-SHAPE-BACKDROP-IMAGE', // Optional\n    },\n  ],\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Notice that the ",(0,r.jsx)(n.code,{children:"src"})," is different as usual. For OptiView Ads, a signaling server needs to be set up which acts as a proxy to parse the given manifest and insert the ad interstitials. More information can be found ",(0,r.jsx)(n.a,{href:"/documentation/pr-preview/pr-311/ads/getting-started/signaling-service",children:"here"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"hlsDateRange"})," flag needs to be set to ",(0,r.jsx)(n.code,{children:"true"})," as the ad markers are done using ",(0,r.jsx)(n.code,{children:"EXT-X-DATERANGE"})," tags."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"ads"})," object needs to have its integration set to ",(0,r.jsx)(n.code,{children:"theoads"}),". Furthermore, the ",(0,r.jsx)(n.code,{children:"networkCode"})," and ",(0,r.jsx)(n.code,{children:"customAssetKey"})," needs to be set according to your configured Google account."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integrating-with-open-video-ui",children:"Integrating with Open Video UI"}),"\n",(0,r.jsxs)(n.p,{children:["OptiView Ads works seamlessly together with ",(0,r.jsx)(n.a,{href:"/open-video-ui/web/",children:"Open Video UI for Web"}),". You can pass your OptiView Ads-enabled source directly to the UI's ",(0,r.jsx)(n.code,{children:"source"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<theoplayer-default-ui></theoplayer-default-ui>\n<script>\n  const ui = document.querySelector('theoplayer-default-ui');\n  ui.configuration = {\n    libraryLocation: 'YOUR-LIBRARY-LOCATION',\n    license: 'YOUR-LICENSE-WITH-OPTIVIEW-ADS',\n    ads: {\n      theoads: true,\n    },\n  };\n  ui.source = {\n    sources: {\n      src: 'PATH-TO-SIGNALING-SERVER/hls/MANIFEST-URI',\n      type: 'application/x-mpegurl',\n      hlsDateRange: true,\n    },\n    ads: [\n      {\n        integration: 'theoads',\n        networkCode: 'NETWORK-CODE',\n        customAssetKey: 'CUSTOM-ASSET-KEY',\n      },\n    ],\n  };\n<\/script>\n"})}),"\n",(0,r.jsx)(n.p,{children:"It should look something like this:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Screenshot of Open Video UI playing a OptiView Ads stream",src:i(58934).Z+"",width:"1432",height:"804"})}),"\n",(0,r.jsx)(n.h2,{id:"more-information",children:"More information"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"pathname:///theoplayer/v8/api-reference/web/interfaces/TheoAdDescription.html",children:"API references"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://optiview.dolby.com/products/server-guided-ad-insertion/",children:"What is OptiView Ads?"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://optiview.dolby.com/solutions/personalized-advertising/",children:"The Advantages of Server-Guided Ad Insertion"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://optiview.dolby.com/resources/blog/advertising/what-is-sgai-server-guided-ad-insertion-in-streaming/",children:"Is Server-Guided Ad-Insertion (SGAI) revolutionizing streaming monetization? (blog)"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},58934:function(e,n,i){i.d(n,{Z:function(){return t}});let t=i.p+"assets/images/web-ui-3acb223351d35b877fa419c80ef1782f.png"},50065:function(e,n,i){i.d(n,{Z:function(){return a},a:function(){return o}});var t=i(67294);let r={},s=t.createContext(r);function o(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);